#!/bin/bash

source /usr/lib/theme-switch/constants
source /usr/lib/theme-switch/init
source /usr/lib/theme-switch/theme-switch

case "$1" in
-v | --version)
	show_version
	;;
-t | --toggle)
	toggle_theme
	;;
-s | --set)
	if [ -z "$2" ] || [ -z "$3" ] || [ -z "$4" ]; then
		echo "Usage: $0 -s <light|dark> --<vim|nvim|kitty> <colorscheme>"
		exit 1
	fi
	set_theme "$2" "$3" "$4"
	;;
-d | --detail)
	show_details
	;;
-o | --opacity)
	set_opacity "$2" "$3"
	;;
-r | --reload)
	reload_theme
	;;
*)
	echo "Usage: $0 [option]"
	echo "Options:"
	echo "  -v, --version         Show the version number"
	echo "  -t, --toggle          Toggle between dark and light themes"
	echo "  -r, --reload          Reload the config after template changes"
	echo "  -s, --set <theme>     Set a specific theme and colorscheme for a program"
	echo "                        Example: $0 -s dark --nvim gruvbox"
	echo "  -o, --opacity <theme> Set Kitty Opacity for specific theme"
	echo "                        Example: $0 -o dark 0.90"
	echo "  -d, --detail          Show current theme details"
	;;
esac
